<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MASMO Registration</title>
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
</head>
<body>
    <div class="container mt-5">
        <h2 class="text-center">MASMO Registration Form</h2>
        <form id="registrationForm">
            <div class="row">
                <div class="col-12 form-group">
                    <label for="level">Select Level</label>
                    <select class="form-control" id="level" name="level" required>
                        <option value="">Choose...</option>
                        <option value="state">State</option>
                        <option value="lga">Local Government Area (LGA)</option>
                        <option value="ward">Ward</option>
                    </select>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-6 form-group" id="lgaGroup" style="display: none;">
                    <label for="lga">Select LGA</label>
                    <select class="form-control" id="lga" name="lga">
                        <option value="">Choose...</option>
                        <option value="DKD">Dawakin Kudu (DKD)</option>
                        <option value="DAL">Dala (DAL)</option>
                    </select>
                </div>
                <div class="col-md-6 form-group" id="wardRow" style="display: none;">
                    <label for="ward">Select Ward</label>
                    <select class="form-control" id="ward" name="ward">
                        <option value="">Choose...</option>
                    </select>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-6 form-group">
                    <label for="rank">Select Rank</label>
                    <select class="form-control" id="rank" name="rank" required>
                        <option value="">Choose...</option>
                    </select>
                </div>
                <div class="col-md-6 form-group">
                    <label for="membershipNumber">Membership Number</label>
                    <input type="text" class="form-control" id="membershipNumber" name="membershipNumber" readonly>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-6 form-group">
                    <label for="name">Full Name</label>
                    <input type="text" class="form-control" id="name" name="name" required>
                </div>
                <div class="col-md-6 form-group">
                    <label for="phone">Phone Number</label>
                    <input type="tel" class="form-control" id="phone" name="phone" required>
                </div>
            </div>
    
            <div class="row">
                <div class="col-md-6 form-group">
                    <label for="email">Email Address (Optional)</label>
                    <input type="email" class="form-control" id="email" name="email">
                </div>
                <div class="col-md-6 form-group">
                    <label for="address">Contact Address</label>
                    <input type="text" class="form-control" id="address" name="address" required>
                </div>
            </div>
    
            <div class="text-center">
                <button type="submit" class="btn btn-primary w-25">Register</button>
            </div>
        </form>
    </div>
    

    <script>
        const wardsByLGA = {
            'DKD': { 'DWK': 'Dawaki', 'KUD': 'Kudu' },
            'DAL': { 'GMJ': 'Gwammaja', 'KTD': 'Kantudu' }
        };

        const ranks = {
            'state': {
                '01': 'State Chairman',
                '02': 'State Vice Chairman',
                '03': 'State Secretary',
                '04': 'State Treasurer',
                '05': 'State PRO'
            },
            'lga': {
                '01': 'LGA Chairman',
                '02': 'LGA Vice Chairman',
                '03': 'LGA Secretary',
                '04': 'LGA Treasurer',
                '05': 'LGA PRO'
            },
            'ward': {
                '01': 'Ward Chairman',
                '02': 'Ward Vice Chairman',
                '03': 'Ward Secretary',
                '04': 'Ward Treasurer',
                '05': 'Ward PRO'
            }
        };

        $(document).ready(function() {
            $('#level').change(function() {
                let level = $(this).val();
                $('#lgaGroup, #wardRow').hide();
                $('#rank').empty().append('<option value="">Choose...</option>');

                if (level === 'lga') {
                    $('#lgaGroup').show();
                } else if (level === 'ward') {
                    $('#lgaGroup, #wardRow').show();
                }

                if (ranks[level]) {
                    for (const [code, name] of Object.entries(ranks[level])) {
                        $('#rank').append(`<option value="${code}">${name}</option>`);
                    }
                }

                generateMembershipNumber();
            });

            $('#lga').change(function() {
                let selectedLGA = $(this).val();
                $('#ward').empty().append('<option value="">Choose...</option>');

                if (wardsByLGA[selectedLGA]) {
                    for (const [abbr, name] of Object.entries(wardsByLGA[selectedLGA])) {
                        $('#ward').append(`<option value="${abbr}">${name} (${abbr})</option>`);
                    }
                }
                generateMembershipNumber();
            });

            $('#ward, #rank').change(function() {
                generateMembershipNumber();
            });

            function generateMembershipNumber() {
                let level = $('#level').val();
                let lga = $('#lga').val();
                let ward = $('#ward').val();
                let rank = $('#rank').val();
                let membershipNumber = 'MASMO/25/KN';

                if (level === 'lga' && lga) {
                    membershipNumber += `/${lga}`;
                }
                if (level === 'ward' && lga && ward) {
                    membershipNumber += `/${lga}/${ward}`;
                }
                if (rank) {
                    membershipNumber += `/${rank}`;
                }

                $('#membershipNumber').val(membershipNumber);
            }
        });
    </script>
</body>
</html>
